{%
    include 'inc/header.twig' with
    {
        'title': page_title,
        'user': logged_user
    }
%}

<main id="signUpApp">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <br>
                <h1 class="mb3">{{ page_title }}</h1>
                <br>
            </div>
            <div class="col-lg-5 col-12 m-auto">
                <p class="alert alert-success" v-if="success">
                    {{ user_registered }}
                </p>
                <form @submit.prevent="signUp" class="form">
                    <span class="help text-danger" v-if="errors.noLogin">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.notValidLogin">[[ errors.errorsMessage ]]</span>
                    <p class="input-group">
                        <input type="text" class="form-control" placeholder="Login" v-model="login">
                    </p>

                    <span class="help text-danger" v-if="errors.noEmail">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.wrongEmail">[[ errors.errorsMessage ]]</span>
                    <p class="input-group">
                        <input type="text" class="form-control" placeholder="Email" v-model="email">
                    </p>

                    <span class="help text-danger" v-if="errors.noPassword">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.wrongPassword">[[ errors.errorsMessage ]]</span>
                    <p class="input-group">
                        <span class="toggle-password-visibility">
                            <i class="fa fa-eye" @click="pwdHidden=false" v-if="pwdHidden==true"></i>
                            <i class="fa fa-eye-slash" @click="pwdHidden=true" v-if="pwdHidden==false"></i>
                        </span>

                        <input type="password"  v-if="pwdHidden==true" class="form-control" placeholder="Password" v-model="password">
                        <input type="text"  v-if="pwdHidden==false" class="form-control" placeholder="Password" v-model="password">
                    </p>

                    <span class="help text-danger" v-if="errors.noPasswordRepeat">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.notEqualPassword">[[ errors.errorsMessage ]]</span>
                    <p class="input-group">
                        <input type="password" class="form-control" placeholder="Repeat password" v-model="passwordRepeat">
                    </p>

                    <span class="help text-danger" v-if="errors.userExists">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.smthWentWrong">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.emailNotSent">[[ errors.errorsMessage ]]</span>

                    <br>
                    <p class="input-group">
                        <button class="btn btn-success" type="submit">Send</button>
                    </p>
                </form>
            </div>
        </div>
    </div>
</main>

{%
    include 'inc/footer.twig' with
    {
        'root': root
    }
%}