{%
    include 'inc/header.twig' with
    {
        'title': page_title,
        'user': logged_user
    }
%}

<main id="newPassword">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <br>
                <h1 class="mb3">{{ page_title }}</h1>
                <br>
            </div>
            <div class="col-lg-5 col-12 m-auto">
                <form @submit.prevent="setNewPassword" class="form">
                    <span class="help text-danger" v-if="errors.noPassword">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.notEqualPasswords">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.noEmail">[[ errors.errorsMessage ]]</span>
                    <span class="help text-danger" v-if="errors.wrongEmail">[[ errors.errorsMessage ]]</span>

                    <input type="hidden" value="{{ user.email }}" ref="user_email">
                    <p class="input-group">

                        <span class="toggle-password-visibility">
                            <i class="fa fa-eye" @click="pwdHidden=false" v-if="pwdHidden==true"></i>
                            <i class="fa fa-eye-slash" @click="pwdHidden=true" v-if="pwdHidden==false"></i>
                        </span>

                        <input type="password"  v-if="pwdHidden==true" class="form-control" placeholder="password" v-model="newPassword">
                        <input type="text"  v-if="pwdHidden==false" class="form-control" placeholder="password" v-model="newPassword">
                    </p>

                    <span class="help text-danger" v-if="errors.noPasswordRepeat">[[ errors.errorsMessage ]]</span>
                    <p class="input-group">
                        <input type="password" class="form-control" placeholder="repeat password" v-model="newPasswordRepeat">
                    </p>
                    <p class="input-group">
                        <button class="btn btn-success" type="submit">Send</button>
                    </p>

                    <span class="help text-danger" v-if="errors.smthWentWrong">[[ errors.errorsMessage ]]</span>

                </form>
            </div>
        </div>
    </div>
</main>


{%
    include 'inc/footer.twig' with
    {
        'root': root
    }
%}